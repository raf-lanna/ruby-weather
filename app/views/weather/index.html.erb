<div class="weather-landing">
  <section class="weather-hero">
    <p class="weather-hero__badge">Powered by WeatherAPI.com</p>
    <h1>Check the latest conditions in seconds</h1>
    <p class="weather-hero__lead">
      Enter any valid US ZIP code to view live conditions including temperature, wind, humidity, and more — refreshed directly from WeatherAPI.com.
    </p>

    <ul class="weather-hero__highlights">
      <li>Real-time data updated every few minutes</li>
      <li>Temperature available in Celsius and Fahrenheit</li>
      <li>Includes wind, visibility, UV index, and precipitation</li>
    </ul>
  </section>

  <section class="weather-form-card">
    <h2>Search by ZIP code or city</h2>
    <p class="weather-form-card__hint">Enter a US ZIP code (12345 ou 12345-6789) ou o nome de uma cidade reconhecida pela WeatherAPI.</p>

    <%= form_with url: weather_forecast_path, method: :get, local: true, data: { controller: "weather-form", action: "submit->weather-form#validate" }, html: { class: "zip-form" } do |form| %>
      <div class="zip-form__group">
        <%= form.label :zip_code, "US ZIP code", class: "zip-form__label" %>
        <div class="zip-form__input-wrap">
          <%= form.text_field :zip_code,
                              placeholder: "e.g. 90001 ou 94105-1234",
                              value: @zip_code,
                              inputmode: "numeric",
                              class: "zip-form__input",
                              data: { "weather-form-target": "zip", action: "input->weather-form#formatZip input->weather-form#onInput keyup->weather-form#formatZip blur->weather-form#formatZip" } %>
          <button type="submit" class="zip-form__submit">Check forecast</button>
        </div>
      </div>

      <div class="zip-form__group">
        <%= form.label :city, "City name", class: "zip-form__label" %>
        <div class="zip-form__input-wrap zip-form__input-wrap--text">
          <%= form.text_field :city,
                              placeholder: "e.g. Los Angeles, CA",
                              value: @city,
                              class: "zip-form__input zip-form__input--text",
                              data: { "weather-form-target": "city", action: "input->weather-form#onInput" } %>
          <span class="zip-form__or">or</span>
          <button type="submit" class="zip-form__submit zip-form__submit--secondary">Search city</button>
        </div>
      </div>

      <div class="zip-form__group">
        <label class="zip-form__label" for="days-slider">Dia da previsão</label>
        <div class="zip-form__slider-wrap">
          <input type="range"
                 id="days-slider"
                 name="days"
                 min="0"
                 max="5"
                 value="<%= @days || 0 %>"
                 class="zip-form__slider"
                 data-action="input->weather-form#updateDaysLabel"
                 data-weather-form-target="days">
          <div class="zip-form__slider-labels">
            <span>Hoje</span>
            <span>+5 dias</span>
          </div>
          <p class="zip-form__slider-value" data-weather-form-target="daysValue" data-current-value="<%= @days || 0 %>">Previsão para hoje</p>
        </div>
      </div>

      <p class="zip-form__notice">We send the city or ZIP code you provide directly to WeatherAPI.com and do not store it.</p>
    <% end %>
  </section>
</div>
